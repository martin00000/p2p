<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eloan.business.mapper.UserinfoMapper">
    <resultMap id="BaseResultMap" type="com.eloan.business.domain.Userinfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 28 10:59:26 CST 2016.
        -->
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="version" jdbcType="INTEGER" property="version"/>
        <result column="bitState" jdbcType="BIGINT" property="bitState"/>
        <result column="realName" jdbcType="VARCHAR" property="realName"/>
        <result column="idNumber" jdbcType="VARCHAR" property="idNumber"/>
        <result column="phoneNumber" jdbcType="VARCHAR" property="phoneNumber"/>
        <result column="incomeGradeId" jdbcType="BIGINT" property="incomeGrade_id"/>
        <result column="marriageId" jdbcType="BIGINT" property="marriage_id"/>
        <result column="kidCountId" jdbcType="BIGINT" property="kidCount_id"/>
        <result column="educationBackgroundId" jdbcType="BIGINT" property="educationBackground_id"/>
        <result column="houseConditionId" jdbcType="BIGINT" property="houseCondition_id"/>
    </resultMap>
    <resultMap id="FullResultMap" type="com.eloan.business.domain.Userinfo">
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="version" jdbcType="INTEGER" property="version"/>
        <result column="bitState" jdbcType="BIGINT" property="bitstate"/>
        <result column="realName" jdbcType="VARCHAR" property="realname"/>
        <result column="idNumber" jdbcType="VARCHAR" property="idnumber"/>
        <result column="phoneNumber" jdbcType="VARCHAR" property="phonenumber"/>
        <association column="incomeGrade_id" javaType="com.eloan.base.domain.SystemDictionaryItem"
                     property="incomeGrade"
                     select="com.eloan.base.mapper.SystemdictionaryitemMapper.selectByPrimaryKey"/>
        <association column="marriage_id" javaType="com.eloan.base.domain.SystemDictionaryItem" property="marriage"
                     select="com.eloan.base.mapper.SystemdictionaryitemMapper.selectByPrimaryKey"/>
        <association column="kidCount_id" javaType="com.eloan.base.domain.SystemDictionaryItem" property="kidCount"
                     select="com.eloan.base.mapper.SystemdictionaryitemMapper.selectByPrimaryKey"/>
        <association column="educationBackground_id" javaType="com.eloan.base.domain.SystemDictionaryItem"
                     property="educationBackground"
                     select="com.eloan.base.mapper.SystemdictionaryitemMapper.selectByPrimaryKey"/>
        <association column="houseCondition_id" javaType="com.eloan.base.domain.SystemDictionaryItem"
                     property="houseCondition"
                     select="com.eloan.base.mapper.SystemdictionaryitemMapper.selectByPrimaryKey"/>
    </resultMap>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="FullResultMap">
        SELECT
        id,
        version,
        bitState,
        realName,
        idNumber,
        phoneNumber,
        incomeGrade_id,
        marriage_id,
        kidCount_id,
        educationBackground_id,
        houseCondition_id
        FROM userinfo
        WHERE id = #{id,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 28 10:59:26 CST 2016.
        -->
        delete from userinfo
        where id = #{id,jdbcType=BIGINT}
    </delete>
    <insert id="insert" keyProperty="id" parameterType="com.eloan.business.domain.Userinfo" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 28 10:59:26 CST 2016.
        -->
        insert into userinfo (id, version, bitState, realName,
        idNumber, phoneNumber, incomeGrade_id,
        marriage_id, kidCount_id, educationBackground_id,
        houseCondition_id)
        values (#{id}, 0, #{bitState,jdbcType=BIGINT}, #{realName,jdbcType=VARCHAR},
        #{idNumber.id,jdbcType=VARCHAR}, #{phoneNumber,jdbcType=VARCHAR}, #{incomeGrade.id,jdbcType=BIGINT},
        #{marriage.id,jdbcType=BIGINT}, #{kidCount.id,jdbcType=BIGINT}, #{educationBackground.id,jdbcType=BIGINT},
        #{houseCondition.id,jdbcType=BIGINT})
    </insert>
    <update id="updateByPrimaryKey" parameterType="com.eloan.business.domain.Userinfo">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 28 10:59:26 CST 2016.
        -->
        update userinfo
        set version = version + 1,
        bitState = #{bitState,jdbcType=BIGINT},
        realName = #{realName,jdbcType=VARCHAR},
        idNumber = #{idNumber,jdbcType=VARCHAR},
        phoneNumber = #{phoneNumber,jdbcType=VARCHAR},
        incomeGrade_id = #{incomeGrade.id,jdbcType=BIGINT},
        marriage_id = #{marriage.id,jdbcType=BIGINT},
        kidCount_id = #{kidCount.id,jdbcType=BIGINT},
        educationBackground_id = #{educationBackground.id,jdbcType=BIGINT},
        houseCondition_id = #{houseCondition.id,jdbcType=BIGINT}
        where id = #{id,jdbcType=BIGINT} and version = #{version}
    </update>
    <!--<select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">-->
    <!--select id, version, bitState, realName, idNumber, phoneNumber, incomeGrade_id, marriage_id, -->
    <!--kidCount_id, educationBackground_id, houseCondition_id-->
    <!--from userinfo-->
    <!--where id = #{id,jdbcType=BIGINT}-->
    <!--</select>-->
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 28 10:59:26 CST 2016.
        -->
        select id, version, bitState, realName, idNumber, phoneNumber, incomeGrade_id, marriage_id,
        kidCount_id, educationBackground_id, houseCondition_id
        from userinfo
    </select>


</mapper>